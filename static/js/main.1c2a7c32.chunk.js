(this["webpackJsonpreact-ts-material-01"]=this["webpackJsonpreact-ts-material-01"]||[]).push([[0],{364:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"Users","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"option","type":"uint256"}],"name":"getTotalAnswers","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_addr","type":"address"}],"name":"getUserAnswer","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_value","type":"address"}],"name":"getWalletStatus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_value","type":"bool"}],"name":"setStarted","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"started","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalVotes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"option","type":"uint256"}],"name":"vote","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},403:function(e,t,n){},404:function(e,t,n){},417:function(e,t){},419:function(e,t){},421:function(e,t){},425:function(e,t){},450:function(e,t){},452:function(e,t){},461:function(e,t){},463:function(e,t){},473:function(e,t){},475:function(e,t){},593:function(e,t){},595:function(e,t){},602:function(e,t){},603:function(e,t){},690:function(e,t){},821:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(77),c=n.n(o),s=(n(403),n(9)),r=n(22),l=n(21),d=n(217),w=(n(404),n(14)),u=n(873),h=n(878),p=n(871),b=n(870),j=n(364),m=n(3),y=n.n(m),f=n(10),g=n(13),x=n(868),O=n(218),v=n.n(O),C=n(383),S=n(379),k=n.n(S),W=n(377),A=n.n(W),T=n(874),I=n(864),_=n(876),R=n(861),F=n(875),N=n.p+"static/media/walletconnect.1b22e784.png",E=n.p+"static/media/metamask.55d59196.png",M=n.p+"static/media/trustwallet.8de17c9e.png",D=n(1),P=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={WalletConnectSelectionDlgOpen:!1,connected:!1,networkWarning:""},a.baseState=void 0,a.componentDidMount=function(){try{var e=localStorage.getItem("walletconnect");if(e){var t=!1;try{t=JSON.parse(e).connected}catch(n){t=!1}t&&a.initialConnect_WalletConnect()}else window.ethereum&&a.initialConnect()}catch(i){}},a.componentWillUnmount=function(){},a.initialConnect_WalletConnect=Object(f.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(window.chainId>0&&window.chainIdExpected!=window.chainId)){e.next=5;break}return a.setState({networkWarning:"network ".concat(window.chainId," not supported.")}),e.abrupt("return");case 5:a.setState({networkWarning:""});case 6:return window.walletConnectProvider=new C.a({infuraId:"042b9beb246dccdd1b2ced3804dfc2d9",chainId:window.chainIdExpected,rpc:{97:"https://data-seed-prebsc-1-s1.binance.org:8545",56:"https://bsc-dataseed.binance.org/"}}),e.prev=7,e.next=10,window.walletConnectProvider.enable();case 10:return window.web3=new v.a(window.walletConnectProvider),e.next=13,window.web3.eth.getAccounts();case 13:(t=e.sent).length>0&&(window.connected=!0,a.setState({connected:!0}),window.walletAddress=t[0],a.handleConnectWallet_WalletConnect()),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),console.log("error on walletconnect");case 20:case"end":return e.stop()}}),e,null,[[7,17]])}))),a.initialConnect=function(){if(window.ethereum){if(window.chainId>0&&window.chainIdExpected!=window.chainId)return void a.setState({networkWarning:"network ".concat(window.chainId," not supported.")});a.setState({networkWarning:""}),window.ethereum.request({method:"eth_requestAccounts"}).then((function(e){e.length>=1&&(window.connected=!0,a.setState({connected:!0}),window.walletAddress=e[0],a.handleConnectWallet())}))}else if(window.confirm("You have to use MetaMask or TrustWallet to connect. Press OK to continue to the MetaMask download page. https://metamask.io/download")){var e=document.createElement("a");e.target="_blank",e.href="https://metamask.io/download",e.click()}},a.handleConnectWallet=function(){window.ethereum&&(window.web3=new v.a(window.ethereum),window.chainId=window.ethereum.networkVersion,window.chainId>0&&window.chainIdExpected!=window.chainId?a.setState({networkWarning:"network ".concat(window.chainId," not supported.")}):a.setState({networkWarning:""}),window.ethereum.request({method:"eth_accounts"}).then((function(e){e.length>=1&&(window.connected=!0,a.setState({connected:!0}),window.walletAddress=e[0],a.updateRefLink(),a.forceUpdate(),window.farm_contract=new window.web3.eth.Contract(window.contract_abi,window.contractAddress))})))},a.handleConnectWallet_WalletConnect=Object(f.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.walletConnectProvider){e.next=7;break}return window.chainId=window.walletConnectProvider.chainId,window.chainId>0&&window.chainIdExpected!=window.chainId?a.setState({networkWarning:"network ".concat(window.chainId," not supported.")}):a.setState({networkWarning:""}),e.next=5,window.web3.eth.getAccounts();case 5:(t=e.sent).length>0&&(window.connected=!0,a.setState({connected:!0}),window.walletAddress=t[0],a.updateRefLink(),a.forceUpdate(),window.farm_contract=new window.web3.eth.Contract(window.contract_abi,window.contractAddress));case 7:case"end":return e.stop()}}),e)}))),a.handleDeactivateAccount=function(){window.connected=!1,window.walletAddress="",a.setState({networkWarning:""}),a.setState({connected:!1}),a.forceUpdate()},a.handleDeactivateAccount_WalletConnect=function(){window.walletConnectProvider.disconnect(),window.connected=!1,window.walletAddress="",window.chainId=0,localStorage.setItem("walletconnect",""),a.setState({networkWarning:""}),a.setState({connected:!1}),a.forceUpdate()},a.updateRefLink=function(){var e=document.getElementById("walletAddressRefLink");null!=e&&(e.innerText=window.walletAddress)},a.handleWalletConnectDlgSelection=function(e){switch(a.setState({WalletConnectSelectionDlgOpen:!1}),e){case"metamask":case"trustwallet":a.initialConnect();break;case"walletconnect":a.initialConnect_WalletConnect()}},a.handleWalletConnectDlgClose=function(){a.setState({WalletConnectSelectionDlgOpen:!1})},a.onClick_connect=function(){a.setState({WalletConnectSelectionDlgOpen:!0})},a.onClick_disconnect=function(){try{a.handleDeactivateAccount_WalletConnect()}catch(e){}try{a.handleDeactivateAccount()}catch(t){}},a.render=function(){var e;e=a.state.connected?Object(D.jsxs)(u.a,{fullWidth:!0,variant:"contained",color:"secondary",sx:{my:0,marginRight:0},size:"small",onClick:a.onClick_disconnect,children:[Object(D.jsx)(A.a,{style:{height:"20px",marginRight:"8px"}}),"disconnect"]}):Object(D.jsxs)(u.a,{fullWidth:!0,variant:"contained",color:"primary",sx:{my:0,marginRight:0},size:"small",onClick:a.onClick_connect,children:[Object(D.jsx)(k.a,{style:{height:"20px",marginRight:"8px"}}),"connect"]});var t=Object(D.jsx)(R.a,{onClose:a.handleWalletConnectDlgClose,open:a.state.WalletConnectSelectionDlgOpen,children:Object(D.jsxs)(T.a,{sx:{p:"32px"},children:[Object(D.jsxs)(I.a,{autoFocus:!0,button:!0,onClick:function(){return a.handleWalletConnectDlgSelection("metamask")},children:[Object(D.jsx)(F.a,{children:Object(D.jsx)("img",{src:E,style:{width:"40px"}})}),Object(D.jsx)(_.a,{primaryTypographyProps:{fontSize:"24pt"},primary:"Metamask"})]}),Object(D.jsxs)(I.a,{autoFocus:!0,button:!0,onClick:function(){return a.handleWalletConnectDlgSelection("trustwallet")},children:[Object(D.jsx)(F.a,{children:Object(D.jsx)("img",{src:M,style:{width:"40px"}})}),Object(D.jsx)(_.a,{primaryTypographyProps:{fontSize:"24pt"},primary:"Trust Wallet"})]}),Object(D.jsxs)(I.a,{autoFocus:!0,button:!0,onClick:function(){return a.handleWalletConnectDlgSelection("walletconnect")},children:[Object(D.jsx)(F.a,{children:Object(D.jsx)("img",{src:N,style:{width:"40px"}})}),Object(D.jsx)(_.a,{primaryTypographyProps:{fontSize:"24pt"},primary:"WalletConnect"})]})]})});return Object(D.jsxs)(p.a,{children:[a.state.networkWarning,Object(D.jsxs)(x.a,{container:!0,children:[Object(D.jsx)(x.a,{item:!0,xs:12,md:12,children:e}),Object(D.jsx)(x.a,{item:!0,xs:12,md:12,children:Object(D.jsx)("div",{style:{padding:"16px"},children:a.state.connected&&window.walletAddress&&"".concat(window.walletAddress.slice(0,6),"...").concat(window.walletAddress.slice(window.walletAddress.length-4,window.walletAddress.length))})})]}),t]})},a.baseState=a.state,a}return Object(g.a)(n,[{key:"componentWillReceiveProps",value:function(e){}}]),n}(i.a.Component),V=n(381),L=n.n(V),U=n(862),q=n(867),z=n(872),Y=n(866);window.chainIdExpected=56;Object(w.a)(b.a)((function(e){var t=e.theme;return Object(d.a)(Object(d.a)({},t.typography.h3),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})}));window.dataRefreshInterval=3e3;var B=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={radioValue:"",progress:!1,walletAccepted:!1,alreadyVoted:!1,totalYES:0,totalNO:0,totalVotes:0,votingEnded:!1},a.baseState=void 0,a._stateInterval=void 0,a.componentDidMount=function(){window.contractAddress="0x33298545303FC64379c555032589e8fA5F90ac29",window.contract_abi=j,a.checkState(),a._stateInterval&&clearInterval(a._stateInterval),a._stateInterval=setInterval(a.checkState,window.dataRefreshInterval)},a.componentWillUnmount=function(){},a.checkState=function(){!0===window.connected?(a.setState({yourAddress:window.walletAddress}),window.farm_contract.methods.getWalletStatus(window.walletAddress).call().then((function(e){a.setState({walletAccepted:e})})),window.farm_contract.methods.getUserAnswer(window.walletAddress).call().then((function(e){a.setState({alreadyVoted:"0"!=e})})),window.farm_contract.methods.getTotalAnswers("1").call().then((function(e){var t=parseInt(e);window.farm_contract.methods.getTotalAnswers("2").call().then((function(e){var n=parseInt(e);a.setState({totalYES:100/(t+n)*t,totalNO:100/(t+n)*n,totalVotes:t+n}),window.farm_contract.methods.started().call().then((function(e){0==e&&t+n>0&&a.setState({votingEnded:!0})}))}))}))):a.setState(a.baseState)},a.onClick_Submit=function(){var e="";"op1"==a.state.radioValue.toLowerCase()?e="1":"op2"==a.state.radioValue.toLowerCase()&&(e="2"),a.setState({progress:!0}),window.farm_contract.methods.vote(e).send({from:window.walletAddress}).then((function(e){a.setState({progress:!1})})).catch((function(e){alert("transaction failed"),a.setState({progress:!1})}))},a.handleRadioChange=function(e,t){a.setState({radioValue:t})},a.render=function(){return Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"wrapper",children:[Object(D.jsx)("img",{className:"logo",src:"https://piston-token.com/images/logo.svg"}),Object(D.jsx)("h2",{children:"PISTON RACE"}),Object(D.jsx)("h3",{children:"VOTING"}),Object(D.jsxs)("div",{style:{display:1==window.connected&&1==a.state.walletAccepted?"":"none"},children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("p",{className:"question",children:"Choose your Option"}),Object(D.jsxs)("p",{children:["Please see the details ",Object(D.jsx)("a",{href:"#details",children:"here"})]})]}),Object(D.jsxs)("div",{className:"poll-area",style:{display:a.state.alreadyVoted||a.state.votingEnded?"none":""},children:[Object(D.jsx)(Y.a,{variant:"standard",fullWidth:!0,disabled:a.state.progress,children:Object(D.jsxs)(q.a,{name:"poll",onChange:a.handleRadioChange,children:[Object(D.jsx)(z.a,{value:"op1",control:Object(D.jsx)(U.a,{}),label:"Option 1",style:{marginLeft:"0",marginRight:"0"}}),Object(D.jsx)(z.a,{value:"op2",control:Object(D.jsx)(U.a,{}),label:"Option 2",style:{marginLeft:"0",marginRight:"0"}})]})}),Object(D.jsxs)(u.a,{disabled:a.state.progress||""==a.state.radioValue,fullWidth:!0,variant:"contained",color:"primary",sx:{my:0,marginTop:"32px"},size:"large",onClick:a.onClick_Submit,children:[Object(D.jsx)(L.a,{style:{height:"20px",marginRight:"8px"}}),"submit vote"]})]}),Object(D.jsxs)("div",{style:{textAlign:"center",paddingTop:"16px",paddingBottom:"16px",display:a.state.alreadyVoted||a.state.votingEnded?"":"none"},children:[Object(D.jsx)("div",{className:"errormsgMain",style:{display:a.state.votingEnded?"":"none"},children:"The Voting has ended."}),Object(D.jsxs)("div",{style:{border:"1px solid white",borderRadius:"10px"},children:[Object(D.jsx)("div",{className:"voteResult",children:"Option 1"}),Object(D.jsxs)("div",{className:"voteResult",style:{fontSize:"20pt"},children:[a.state.totalYES.toFixed(1),"%"]})]}),Object(D.jsx)("br",{}),Object(D.jsxs)("div",{style:{border:"1px solid white",borderRadius:"10px"},children:[Object(D.jsx)("div",{className:"voteResult",children:"Option 2"}),Object(D.jsxs)("div",{className:"voteResult",style:{fontSize:"20pt"},children:[a.state.totalNO.toFixed(1),"%"]})]}),Object(D.jsx)("br",{}),Object(D.jsxs)("div",{children:["Total Votes: ",a.state.totalVotes]})]})]}),Object(D.jsx)("div",{style:{display:1==window.connected&&1!=a.state.walletAccepted?"":"none",border:"1px solid white",borderRadius:"10px"},children:Object(D.jsx)("div",{className:"errormsgMain",children:"your wallet is not invested in the piston race"})}),Object(D.jsx)(p.a,{sx:{display:a.state.progress&&!a.state.alreadyVoted?"flex":"none"},children:Object(D.jsx)(h.a,{})}),Object(D.jsx)("div",{style:{marginTop:"24px"},children:Object(D.jsx)(P,{})})]}),Object(D.jsx)("a",{id:"details"}),Object(D.jsxs)("div",{className:"wrapper left",style:{marginTop:"16px"},children:[Object(D.jsx)("h3",{children:"Trading is on pause. Please read the news and use the voting"}),"We are currently sitting on roughly $45k liquidity in our contract. After much thought and research we've come up with a plan. As always, any changes that happen in PSTN are VOTED by the community so we'd like to place this vote with you once more. We have two options:",Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)("h4",{children:"OPTION 1."}),"Keep things as they are, when the funds are finished the project and site will be closed. Everyone continues to carry on as they're currently doing. Estimated end is roughly 2 months from today.",Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)("h4",{children:"OPTION 2."}),"We pull the liquidity and place it with 2 trading bots.",Object(D.jsx)("br",{})," With this choice, all trading will be stopped and due to the process of pulling out the liquidity we will have to bring the chart to 0.",Object(D.jsx)("br",{}),"The website will be modified giving only one button. ",Object(D.jsx)("b",{children:"CLAIM"}),".",Object(D.jsx)("br",{})," While we grow the liquidity we will periodically withdraw from the bot and place the funds into a pool.",Object(D.jsx)("br",{}),"ALL members who did not gain their original investment will be able to withdraw $X per day (to be defined).",Object(D.jsx)("br",{}),"This will continue until all members have received their original investment back.",Object(D.jsx)("br",{}),"We are able to see who has/has not gotten back their initial based on blackchain interaction showing amounts withdrawn and swapped.",Object(D.jsx)("br",{}),"Keep in mind this is not a short process and it will of course take some time to build the funds.",Object(D.jsx)("br",{}),"The bot performance will be made public so everyone is able to see the current status at any time, continuing to be fully transparent as we always have been.",Object(D.jsx)("br",{}),"Please note, option 2 and the access to future funds made from the bot will be available ONLY for members that did not gain back their original investment AND ACTUALLY VOTE. All other members will not have access to this pool.",Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),"The choice is yours!",Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)("b",{children:"Only votes from existing holders at the timestamp of this post will be counted."}),Object(D.jsx)("br",{})]})]})},a.baseState=a.state,a}return n}(i.a.Component),J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,879)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),o(e),c(e)}))},K=n(382),$=n(869),G=Object(K.a)({palette:{mode:"light",primary:{main:"#FFFFFF"},secondary:{main:"#193d7d"},background:{default:"#FFFFFF"}}});c.a.render(Object(D.jsx)(i.a.StrictMode,{children:Object(D.jsx)($.a,{theme:G,children:Object(D.jsx)(B,{})})}),document.getElementById("root")),J()}},[[821,1,2]]]);
//# sourceMappingURL=main.1c2a7c32.chunk.js.map