(this["webpackJsonpreact-ts-material-01"]=this["webpackJsonpreact-ts-material-01"]||[]).push([[0],{364:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"Users","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"option","type":"uint256"}],"name":"getTotalAnswers","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_addr","type":"address"}],"name":"getUserAnswer","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_value","type":"address"}],"name":"getWalletStatus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_value","type":"bool"}],"name":"setStarted","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"started","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalVotes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"option","type":"uint256"}],"name":"vote","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},403:function(e,t,n){},404:function(e,t,n){},417:function(e,t){},419:function(e,t){},421:function(e,t){},425:function(e,t){},450:function(e,t){},452:function(e,t){},461:function(e,t){},463:function(e,t){},473:function(e,t){},475:function(e,t){},593:function(e,t){},595:function(e,t){},602:function(e,t){},603:function(e,t){},690:function(e,t){},821:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(77),c=n.n(o),s=(n(403),n(9)),r=n(22),l=n(21),d=n(217),w=(n(404),n(14)),u=n(873),h=n(878),p=n(871),b=n(870),j=n(364),m=n(3),y=n.n(m),f=n(10),x=n(13),g=n(868),O=n(218),v=n.n(O),C=n(383),S=n(379),k=n.n(S),W=n(377),A=n.n(W),T=n(874),I=n(864),_=n(876),E=n(861),N=n(875),R=n.p+"static/media/walletconnect.1b22e784.png",D=n.p+"static/media/metamask.55d59196.png",M=n.p+"static/media/trustwallet.8de17c9e.png",P=n(1),F=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={WalletConnectSelectionDlgOpen:!1,connected:!1,networkWarning:""},a.baseState=void 0,a.componentDidMount=function(){try{var e=localStorage.getItem("walletconnect");if(e){var t=!1;try{t=JSON.parse(e).connected}catch(n){t=!1}t&&a.initialConnect_WalletConnect()}else window.ethereum&&a.initialConnect()}catch(i){}},a.componentWillUnmount=function(){},a.initialConnect_WalletConnect=Object(f.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(window.chainId>0&&window.chainIdExpected!=window.chainId)){e.next=5;break}return a.setState({networkWarning:"network ".concat(window.chainId," not supported.")}),e.abrupt("return");case 5:a.setState({networkWarning:""});case 6:return window.walletConnectProvider=new C.a({infuraId:"042b9beb246dccdd1b2ced3804dfc2d9",chainId:window.chainIdExpected,rpc:{97:"https://data-seed-prebsc-1-s1.binance.org:8545",56:"https://bsc-dataseed.binance.org/"}}),e.prev=7,e.next=10,window.walletConnectProvider.enable();case 10:return window.web3=new v.a(window.walletConnectProvider),e.next=13,window.web3.eth.getAccounts();case 13:(t=e.sent).length>0&&(window.connected=!0,a.setState({connected:!0}),window.walletAddress=t[0],a.handleConnectWallet_WalletConnect()),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),console.log("error on walletconnect");case 20:case"end":return e.stop()}}),e,null,[[7,17]])}))),a.initialConnect=function(){if(window.ethereum){if(window.chainId>0&&window.chainIdExpected!=window.chainId)return void a.setState({networkWarning:"network ".concat(window.chainId," not supported.")});a.setState({networkWarning:""}),window.ethereum.request({method:"eth_requestAccounts"}).then((function(e){e.length>=1&&(window.connected=!0,a.setState({connected:!0}),window.walletAddress=e[0],a.handleConnectWallet())}))}else if(window.confirm("You have to use MetaMask or TrustWallet to connect. Press OK to continue to the MetaMask download page. https://metamask.io/download")){var e=document.createElement("a");e.target="_blank",e.href="https://metamask.io/download",e.click()}},a.handleConnectWallet=function(){window.ethereum&&(window.web3=new v.a(window.ethereum),window.chainId=window.ethereum.networkVersion,window.chainId>0&&window.chainIdExpected!=window.chainId?a.setState({networkWarning:"network ".concat(window.chainId," not supported.")}):a.setState({networkWarning:""}),window.ethereum.request({method:"eth_accounts"}).then((function(e){e.length>=1&&(window.connected=!0,a.setState({connected:!0}),window.walletAddress=e[0],a.updateRefLink(),a.forceUpdate(),window.farm_contract=new window.web3.eth.Contract(window.contract_abi,window.contractAddress))})))},a.handleConnectWallet_WalletConnect=Object(f.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.walletConnectProvider){e.next=7;break}return window.chainId=window.walletConnectProvider.chainId,window.chainId>0&&window.chainIdExpected!=window.chainId?a.setState({networkWarning:"network ".concat(window.chainId," not supported.")}):a.setState({networkWarning:""}),e.next=5,window.web3.eth.getAccounts();case 5:(t=e.sent).length>0&&(window.connected=!0,a.setState({connected:!0}),window.walletAddress=t[0],a.updateRefLink(),a.forceUpdate(),window.farm_contract=new window.web3.eth.Contract(window.contract_abi,window.contractAddress));case 7:case"end":return e.stop()}}),e)}))),a.handleDeactivateAccount=function(){window.connected=!1,window.walletAddress="",a.setState({networkWarning:""}),a.setState({connected:!1}),a.forceUpdate()},a.handleDeactivateAccount_WalletConnect=function(){window.walletConnectProvider.disconnect(),window.connected=!1,window.walletAddress="",window.chainId=0,localStorage.setItem("walletconnect",""),a.setState({networkWarning:""}),a.setState({connected:!1}),a.forceUpdate()},a.updateRefLink=function(){var e=document.getElementById("walletAddressRefLink");null!=e&&(e.innerText=window.walletAddress)},a.handleWalletConnectDlgSelection=function(e){switch(a.setState({WalletConnectSelectionDlgOpen:!1}),e){case"metamask":case"trustwallet":a.initialConnect();break;case"walletconnect":a.initialConnect_WalletConnect()}},a.handleWalletConnectDlgClose=function(){a.setState({WalletConnectSelectionDlgOpen:!1})},a.onClick_connect=function(){a.setState({WalletConnectSelectionDlgOpen:!0})},a.onClick_disconnect=function(){try{a.handleDeactivateAccount_WalletConnect()}catch(e){}try{a.handleDeactivateAccount()}catch(t){}},a.render=function(){var e;e=a.state.connected?Object(P.jsxs)(u.a,{fullWidth:!0,variant:"contained",color:"secondary",sx:{my:0,marginRight:0},size:"small",onClick:a.onClick_disconnect,children:[Object(P.jsx)(A.a,{style:{height:"20px",marginRight:"8px"}}),"disconnect"]}):Object(P.jsxs)(u.a,{fullWidth:!0,variant:"contained",color:"primary",sx:{my:0,marginRight:0},size:"small",onClick:a.onClick_connect,children:[Object(P.jsx)(k.a,{style:{height:"20px",marginRight:"8px"}}),"connect"]});var t=Object(P.jsx)(E.a,{onClose:a.handleWalletConnectDlgClose,open:a.state.WalletConnectSelectionDlgOpen,children:Object(P.jsxs)(T.a,{sx:{p:"32px"},children:[Object(P.jsxs)(I.a,{autoFocus:!0,button:!0,onClick:function(){return a.handleWalletConnectDlgSelection("metamask")},children:[Object(P.jsx)(N.a,{children:Object(P.jsx)("img",{src:D,style:{width:"40px"}})}),Object(P.jsx)(_.a,{primaryTypographyProps:{fontSize:"24pt"},primary:"Metamask"})]}),Object(P.jsxs)(I.a,{autoFocus:!0,button:!0,onClick:function(){return a.handleWalletConnectDlgSelection("trustwallet")},children:[Object(P.jsx)(N.a,{children:Object(P.jsx)("img",{src:M,style:{width:"40px"}})}),Object(P.jsx)(_.a,{primaryTypographyProps:{fontSize:"24pt"},primary:"Trust Wallet"})]}),Object(P.jsxs)(I.a,{autoFocus:!0,button:!0,onClick:function(){return a.handleWalletConnectDlgSelection("walletconnect")},children:[Object(P.jsx)(N.a,{children:Object(P.jsx)("img",{src:R,style:{width:"40px"}})}),Object(P.jsx)(_.a,{primaryTypographyProps:{fontSize:"24pt"},primary:"WalletConnect"})]})]})});return Object(P.jsxs)(p.a,{children:[a.state.networkWarning,Object(P.jsxs)(g.a,{container:!0,children:[Object(P.jsx)(g.a,{item:!0,xs:12,md:12,children:e}),Object(P.jsx)(g.a,{item:!0,xs:12,md:12,children:Object(P.jsx)("div",{style:{padding:"16px"},children:a.state.connected&&window.walletAddress&&"".concat(window.walletAddress.slice(0,6),"...").concat(window.walletAddress.slice(window.walletAddress.length-4,window.walletAddress.length))})})]}),t]})},a.baseState=a.state,a}return Object(x.a)(n,[{key:"componentWillReceiveProps",value:function(e){}}]),n}(i.a.Component),V=n(381),L=n.n(V),U=n(862),q=n(867),z=n(872),B=n(866);window.chainIdExpected=56;Object(w.a)(b.a)((function(e){var t=e.theme;return Object(d.a)(Object(d.a)({},t.typography.h3),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})}));window.dataRefreshInterval=3e3;var Y=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={radioValue:"",progress:!1,walletAccepted:!1,alreadyVoted:!1,totalYES:0,totalNO:0,totalVotes:0,votingEnded:!1},a.baseState=void 0,a._stateInterval=void 0,a.componentDidMount=function(){window.contractAddress="0x4af53af7784f1a67f72fd623EB0Ab8C79aDA3700",window.contract_abi=j,a.checkState(),a._stateInterval&&clearInterval(a._stateInterval),a._stateInterval=setInterval(a.checkState,window.dataRefreshInterval)},a.componentWillUnmount=function(){},a.checkState=function(){!0===window.connected?(a.setState({yourAddress:window.walletAddress}),window.farm_contract.methods.getWalletStatus(window.walletAddress).call().then((function(e){a.setState({walletAccepted:e})})),window.farm_contract.methods.getUserAnswer(window.walletAddress).call().then((function(e){a.setState({alreadyVoted:"0"!=e})})),window.farm_contract.methods.getTotalAnswers("1").call().then((function(e){var t=parseInt(e);window.farm_contract.methods.getTotalAnswers("2").call().then((function(e){var n=parseInt(e);a.setState({totalYES:100/(t+n)*t,totalNO:100/(t+n)*n,totalVotes:t+n}),window.farm_contract.methods.started().call().then((function(e){0==e&&t+n>0&&a.setState({votingEnded:!0})}))}))}))):a.setState(a.baseState)},a.onClick_Submit=function(){var e="";"op1"==a.state.radioValue.toLowerCase()?e="1":"op2"==a.state.radioValue.toLowerCase()&&(e="2"),a.setState({progress:!0}),window.farm_contract.methods.vote(e).send({from:window.walletAddress}).then((function(e){a.setState({progress:!1})})).catch((function(e){alert("transaction failed"),a.setState({progress:!1})}))},a.handleRadioChange=function(e,t){a.setState({radioValue:t})},a.render=function(){return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"wrapper",children:[Object(P.jsx)("img",{className:"logo",src:"https://piston-token.com/images/logo.svg"}),Object(P.jsx)("h2",{children:"PISTON RACE"}),Object(P.jsx)("h3",{children:"VOTING"}),Object(P.jsxs)("div",{style:{display:1==window.connected&&1==a.state.walletAccepted?"":"none"},children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("p",{className:"question",children:"Choose your Option"}),Object(P.jsxs)("p",{children:["Please see the details ",Object(P.jsx)("a",{href:"#details",children:"here"})]})]}),Object(P.jsxs)("div",{className:"poll-area",style:{display:a.state.alreadyVoted||a.state.votingEnded?"none":""},children:[Object(P.jsx)(B.a,{variant:"standard",fullWidth:!0,disabled:a.state.progress,children:Object(P.jsxs)(q.a,{name:"poll",onChange:a.handleRadioChange,children:[Object(P.jsx)(z.a,{value:"op1",control:Object(P.jsx)(U.a,{}),label:"Option 1",style:{marginLeft:"0",marginRight:"0"}}),Object(P.jsx)(z.a,{value:"op2",control:Object(P.jsx)(U.a,{}),label:"Option 2",style:{marginLeft:"0",marginRight:"0"}})]})}),Object(P.jsxs)(u.a,{disabled:a.state.progress||""==a.state.radioValue,fullWidth:!0,variant:"contained",color:"primary",sx:{my:0,marginTop:"32px"},size:"large",onClick:a.onClick_Submit,children:[Object(P.jsx)(L.a,{style:{height:"20px",marginRight:"8px"}}),"submit vote"]})]}),Object(P.jsxs)("div",{style:{textAlign:"center",paddingTop:"16px",paddingBottom:"16px",display:a.state.alreadyVoted||a.state.votingEnded?"":"none"},children:[Object(P.jsx)("div",{className:"errormsgMain",style:{display:a.state.votingEnded?"":"none"},children:"The Voting has ended."}),Object(P.jsxs)("div",{style:{border:"1px solid white",borderRadius:"10px"},children:[Object(P.jsx)("div",{className:"voteResult",children:"Option 1"}),Object(P.jsxs)("div",{className:"voteResult",style:{fontSize:"20pt"},children:[a.state.totalYES.toFixed(1),"%"]})]}),Object(P.jsx)("br",{}),Object(P.jsxs)("div",{style:{border:"1px solid white",borderRadius:"10px"},children:[Object(P.jsx)("div",{className:"voteResult",children:"Option 2"}),Object(P.jsxs)("div",{className:"voteResult",style:{fontSize:"20pt"},children:[a.state.totalNO.toFixed(1),"%"]})]}),Object(P.jsx)("br",{}),Object(P.jsxs)("div",{children:["Total Votes: ",a.state.totalVotes]})]})]}),Object(P.jsx)("div",{style:{display:1==window.connected&&1!=a.state.walletAccepted?"":"none",border:"1px solid white",borderRadius:"10px"},children:Object(P.jsx)("div",{className:"errormsgMain",children:"your wallet is not invested in the piston race"})}),Object(P.jsx)(p.a,{sx:{display:a.state.progress&&!a.state.alreadyVoted?"flex":"none"},children:Object(P.jsx)(h.a,{})}),Object(P.jsx)("div",{style:{marginTop:"24px"},children:Object(P.jsx)(F,{})})]}),Object(P.jsx)("a",{id:"details"}),Object(P.jsxs)("div",{className:"wrapper left",style:{marginTop:"16px"},children:[Object(P.jsx)("h3",{children:"Trading is Paused!"}),Object(P.jsx)("h4",{children:" Please read below and vote on the future of Piston:"}),"We are currently sitting on roughly $45k liquidity in our contract. After much thought and research we've come up with a plan. As always, any changes that happen in PSTN are VOTED by the community so we'd like to place this vote with you once more. We have two options:",Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)("h4",{children:"OPTION 1."}),"Keep things as they are, when the funds are finished the project and website will be closed. Everyone continues to carry on as they're currently doing. Estimated end is roughly 2 months from today.",Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)("h4",{children:"OPTION 2."}),"We pull the liquidity and place it with a trading bot.",Object(P.jsx)("br",{}),"With this choice, all trading will be stopped and due to the process of pulling out the liquidity we will have to bring the chart to 0.",Object(P.jsx)("br",{}),"The website will be modified giving only one button. ",Object(P.jsx)("b",{children:"CLAIM"}),".",Object(P.jsx)("br",{})," While we grow the liquidity we will periodically withdraw from the bot and place the funds into a pool.",Object(P.jsx)("br",{}),"ALL members who did not gain their original investment will be able to withdraw $50 per day. This will continue for as long as we can. Ideally all members will be able to recuperate their initial investment. We are able to see who has/has not gotten back their initial based on blockchain interaction showing amounts withdrawn and swapped. Keep in mind this is not a short process and it will of course take some time to build the funds. The bot performance will be made public so everyone is able to see the current status at any time, continuing to be fully transparent as we always have been.",Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),"Please note, option 2 and the access to future funds made from the bot will be available ONLY for members that did not gain back their original investment AND ACTUALLY VOTE. All other members will not have access to this pool.",Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),"VOTING WILL BE CLOSED ON THE 14/04/2023 AT 19:00 UTC",Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),"The choice is yours!",Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)("b",{children:"Only votes from existing holders will be counted."}),Object(P.jsx)("br",{})]})]})},a.baseState=a.state,a}return n}(i.a.Component),J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,879)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),o(e),c(e)}))},K=n(382),G=n(869),$=Object(K.a)({palette:{mode:"light",primary:{main:"#FFFFFF"},secondary:{main:"#193d7d"},background:{default:"#FFFFFF"}}});c.a.render(Object(P.jsx)(i.a.StrictMode,{children:Object(P.jsx)(G.a,{theme:$,children:Object(P.jsx)(Y,{})})}),document.getElementById("root")),J()}},[[821,1,2]]]);
//# sourceMappingURL=main.15a8e984.chunk.js.map